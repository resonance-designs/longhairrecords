# Longhair Records — Ecommerce Site (WordPress)

##### Production

## Task List

- [x] Adjust servers PHP config to better handle large requests to make inventory adjustments and other bulk operations.
  - [x] Run through delete process again to test if these changes have any effect on performance.
- [x] Deploy child theme updates and custom square plugin updates.
- [x] Configure the Square plugin (Woo → Settings → Square):
  - [x] System of Record = Square
  - [x] Match by SKU = ON
  - [x] Update existing products = Enabled
  - [x] If your version has it: Batch size / Throttle = 50–100 items per request
  - [x] Sync direction = Square → Woo only (at least for this first full import)
- [x] Pilot import
  - [x] Run a manual sync for a small batch (e.g. 500 items).
  - [x] Check Woo → Products → make sure:
    - [x] Only one copy per SKU.
    - [x] Images imported.
    - [x] Stock values match Square.
  - [x] Check Woo → Status → Logs → square-…log:
    - [x] Should be 1 log file only for the run.
    - [x] Should not show SKU already exists.
- [x] If the pilot is successful, do a full import:
  - [x] Run sync on the full catalog.
  - [x] Monitor logs — you should see a single continuous square-… log growing large, not 10–15 new ones starting every few minutes.
- [x] Post-import checks
  - [x] Spot check 10–20 random items: SKU, stock, price, and image all match Square.
  - [x] Confirm no duplicates in Woo.
  - [x] Keep an eye on logs for a few days — you want to see one log per scheduled sync, not dozens.
- [x] Remove Spotify/Soundcloud links
- [x] Verify Cloudflare DNS is working correctly.
- [x] Get HTTPS working properly.
- [x] Merge custom integration code into new version of Square plugin.
- [x] Fix broken categories box on frontend. Currently not showing "Records" or "7-Inch" categories.
- [x] Get email sending functioning again on site for new orders, confirmation emails, etc.
  - [x] Need to verify we have a valid AWS account with SES enabled.
  - [x] Need to configure the WP Offload SES plugin with AWS credentials.
  - [x] Send test emails from Offload SES plugin.
- [x] Fix WooCommerce templates in current theme.
- [x] Add template customizations to child theme via hooks in the child theme’s `functions.php` file to avoid having to update woocommerce template files when there are updates to the WooCommerce plugin. This is much better for long-term maintainability.
- [x] Set search-bar filter text and id value dynamically based on current page/product.
- [x] Update site icon.
- [x] Clear out email logs.
- [x] Create cron job to clear out extraneous image files every day at midnight.
- [x] Clean up WordPress plugins.
- [x] Organize the admin menu.
- [x] Change message on maintenance page.
- [x] Fix instagram feed widget. Currently, it is showing that no user has been selected.
- [x] The sidebar is rendering incorrectly on single-product pages. It's rendering in the footer instead of to the right of the main content.
- [x] Remove store annoucement popup.
- [x] Fix search functionality. Does not seem to be working at all.
- [x] Look into potential replacements for ELEX EasyPost Shipping Plugin.
- [x] Change wp-login to lhr-admis for improved security.
- [x] Move over to Google Site Kit to handle Google Analytics, Tag Manager, Ads, etc.
- [x] Optimize server and WordPress configuration for optimal speed and performance.
  - [x] Install and configure opcache PHP module.
  - [x] Install imagick PHP module.
  - [x] Install APCu PHP module.
  - [x] Install libsodium PHP modules.
  - [x] Install and configure Codirun R2 & CDN plugin to offload static files and media uploads to Cloudflare R2.
    - [x] Enable R2 object storage in the Cloudflare dashboard.
    - [x] Install and activate Codirun plugin.
    - [x] Create a Cloudflare R2 bucket.
    - [x] Upload static files to R2 bucket using the Codirun plugin.
    - [x] Upload media files to R2 bucket using the Codirun plugin.
    - [x] Configure the plugin settings to automatically upload new media files to R2.
    - [x] Test uploading a new image and ensure it appears on the website after syncing with R2.
  - [x] Install and configure Redis caching.
    - [x] Install redis-server package.
    - [x] Install php-redis extension.
    - [x] Install and configure "Redis Object Cache" plugin (Till Krüss)
    - [x] Test Redis caching by clearing the cache and checking if the site loads faster.
  - [x] Install and configure Litespeed Web Server (LWS) caching.
- [x] Install Composer
- [x] Install WP CLI
- [ ] Update page designs
  - [ ] Newsletter signup confirmation page.
  - [ ] Single Product page.
  - [ ] Search Results page.
    - [ ] Add search bar to search results page.
    - [ ] Remove duplicate "Search Results" header on search results page.
  - [ ] Wish List page.
  - [ ] Registration page.
  - [ ] Login page.
- [ ] Get the business email addresses/service on the Gmail interface.
- [ ] Figure out how to get Smart Manager to save searches.
- [ ] Add some events to the timely calendar.
- [ ] Customize the emails that are sent out from the site.
- [ ] Remove extraneous product categories.
- [ ] Compile a list of what services are being provided by what service providers/vendors.
- [ ] Get a remote environment set up for sandboxing ecommerce solutions.
- [ ] Root out any payment gremlins that may be lurking around.
- [ ] Set up Stripe as a backup payment processor.
  - [ ] Square and Stripe can work together, but not directly; they can be connected through third-party integration services like Zapier, Skyvia, and Albato to automate data synchronization and workflows between the two platforms.
  - [ ] Test Stripe integration.
- [ ] Create documentation for the project team.
  - [ ] Finish Server Maintenance documentation for the project team.
  - [ ] Create GitHub documentation for the project team.
  - [ ] Create Cloudflare documentation for the project team.
  - [ ] Create AWS documentation for the project team.
  - [ ] Create WordPress documentation for the project team.
    - [ ] Advanced Woo Search PRO
    - [ ] All-in-One Event Calendar by Time.ly
    - [ ] GTM4WP - A Google Tag Manager (GTM) plugin for WordPress
    - [ ] Jetpack
    - [ ] Minimal Coming Soon & Maintenance Mode
    - [ ] Newsletter
    - [ ] Smart Manager
    - [ ] W3 Total Cache
    - [ ] WooCommerce
      - [ ] WooCommerce Square
      - [ ] WooCommerce Tax
    - [ ] WP Offload SES Lite
    - [ ] Yoast SEO
  - [ ] Create Squarespace documentation for the project team.
  - [ ] Create Stripe documentation for the project team.
  - [ ] Create Mailchimp documentation for the project team.
  - [ ] Create Google Analytics documentation for the project team.
